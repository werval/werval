=== Using the DevShell

From now on we'll take a closer look at QiWeb Development Shell features.
Whether you use `qiweb-cli`, Gradle, Maven or any other build system, start the DevShell.

.Run in development mode using `qiweb-cli`
[source]
----
user@host ~/hello-qiweb $ qiweb-cli run
----

.Run in development mode using Gradle
[source]
----
user@host ~/hello-qiweb $ gradle devshell
----

.Run in development mode using Maven
[source]
----
user@host ~/hello-qiweb $ mvn org.qiweb:org.qiweb.maven:devshell
----

Open http://localhost:23023/, you should see the now well known Welcome page.


==== Instant feedback

// Add compilation error
At first we will introduce a compilation error in the application sources.
Open `./src/main/java/controllers/Application.java` and make changes that won't compile, eg:

[source,java]
----
package controllers;

import org.qiweb.api.controllers.*;

public class Application {

    public Outcome index()
    {
        THIS WON'T COMPILE
        return new org.qiweb.runtime.controllers.Welcome().welcome();
    }

}
----

If you now hit your browser refresh button you'll see something like that:

image::images/devshell-compile-error.png[Compilation failed,640]

This tells you where the error is.

Now, let's remove the compilation error but throw an exception:

[source,java]
----
package controllers;

import org.qiweb.api.controllers.*;

public class Application {

    public Outcome index()
        throws java.io.IOException
    {
        if( true )
        {
            Exception crash = new RuntimeException( "Wow, it crashed!" );
            throw new java.io.IOException( "And this would be an explicit error message.", crash );
        }
        return new org.qiweb.runtime.controllers.Welcome().welcome();
    }

}
----

If you hit your browser refresh button again, this should show up:

image::images/devshell-exception-error.png[Exception,640]

You'll notice that when application sources are concerned, the error page has links to open them quickly.
Of course this will work better is you setup your development environment to open the files with the right applications.

// Add new feature

Ok, things are failing well :-)
We will now finally say "Hello World" from our HTTP Application.

Change the controller content to:

[source,java]
----
package controllers;

import org.qiweb.api.context.*;

public class Application {

    public Outcome index()
    {
        return CurrentContext.outcomes().ok( "Hello World!" ).build();
    }

}
----

Hit your browser refresh button again.
This time you should see **Hello World!**.

This is how the QiWeb Development Shell gives you instant feedback when coding.


==== Embedded documentation

When running the Development Shell, the whole QiWeb documentation is available right from the HTTP server that run
your application.

Open http://localhost:23023/@doc to browse the documentation. This very article should be available at
http://localhost:23023/@doc/getting-started.html but maybe you are already reading it from there.



// ==== Introspection resources
// /@config
// /@logs
// /@classpath
// /@etc...


